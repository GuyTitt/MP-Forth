# début du "memoire" version "10"
class Memoire:
    def __init__(self):
        self.ram = bytearray(512 * 1024)
        self.here = 0x00200000
        self.latest = 0
        self.state = 0
        self.ip = 0
        self.sp = 0x00100000
        self.SP0 = self.sp

    def wpoke(self, addr, val):
        if addr + 3 >= len(self.ram):
            raise MemoryError(f"wpoke overflow @ {hex(addr)}")
        self.ram[addr:addr+4] = val.to_bytes(4, 'little')

    def wpeek(self, addr):
        return int.from_bytes(self.ram[addr:addr+4], 'little')

    def cpoke(self, addr, val):
        if addr >= len(self.ram):
            raise MemoryError(f"cpoke overflow @ {hex(addr)}")
        self.ram[addr] = val & 0xFF

# Instance unique
mem = Memoire()

version = ('memoire.py', 10)
print("memoire.py v10 – classe + binding correct → plus jamais de bug wpoke")
# fin du "memoire" version "10"